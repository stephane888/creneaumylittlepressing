"use strict";(("undefined"!==typeof self?self:this)["webpackChunkcreneauxMylittlepressing"]=("undefined"!==typeof self?self:this)["webpackChunkcreneauxMylittlepressing"]||[]).push([[701],{9701:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",[t("b-form",[t("div",{staticClass:"ctn-action-button d-flex justify-content-end mb-2"},[t("b-button",{attrs:{variant:"outline-info",size:"sm"},on:{click:function(t){return e.FilterAdd()}}},[e._v(" Ajouter un filtre + ")])],1),t("div",{staticClass:"accordion",attrs:{role:"tablist"}},e._l(e.creneauFilters,(function(s,i){return t("b-card",{key:i,staticClass:"mb-2",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"config-accordion-"+i,expression:"'config-accordion-' + index"}],attrs:{block:"",variant:"transparent"}},[t("strong",[e._v(" Filtre "+e._s(i+1)+": "+e._s(s.titre)+" ")])]),t("div",{staticClass:"ctn-action-button static"},[t("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(t){return e.FilterRemove(i)}}},[t("b-icon",{attrs:{icon:"trash-fill"}})],1)],1)],1),t("b-collapse",{attrs:{id:"config-accordion-"+i,visible:0===i,accordion:"my-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-form-group",[t("b-form-group",{attrs:{label:"Titre du filtre"}},[t("b-form-input",{staticClass:"mb-2",model:{value:s.titre,callback:function(t){e.$set(s,"titre",t)},expression:"filter.titre"}})],1),t("b-form-group",{attrs:{label:"Données à desactiver"}},[t("b-form-radio-group",{attrs:{options:e.type_disabled_options,name:"radio-options",debounce:"2000"},model:{value:s.type_disabled,callback:function(t){e.$set(s,"type_disabled",t)},expression:"filter.type_disabled"}})],1),"hours"===s.type_disabled?t("div",[t("h3",{staticClass:"border-bottom pb-2 mb-2 mt-4"},[e._v(" desactiver une plage d'heures. ")]),t("b-form-group",{attrs:{description:"format H:M, example 8:30"},scopedSlots:e._u([{key:"label",fn:function(){return[t("strong",{staticClass:"mt-3 mb-2 d-block"},[e._v(" Selectionner la plage d'heure à desactiver ")])]},proxy:!0}],null,!0)},[t("b-row",[t("b-col",{attrs:{sm:"6"}},[t("b-form-input",{staticClass:"mb-2",attrs:{placeholder:"Heure debut",size:"sm",debounce:"2000"},model:{value:s.h_debut,callback:function(t){e.$set(s,"h_debut",t)},expression:"filter.h_debut"}})],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-input",{attrs:{placeholder:"Heure fin",size:"sm",debounce:"2000"},model:{value:s.h_fin,callback:function(t){e.$set(s,"h_fin",t)},expression:"filter.h_fin"}})],1)],1)],1),t("hr"),t("b-form-group",{scopedSlots:e._u([{key:"label",fn:function(){return[t("strong",{staticClass:"mt-3 mb-2 d-block"},[e._v(" Selectionner les jours de la semaine ")])]},proxy:!0}],null,!0)},[t("b-form-group",[t("b-form-checkbox",{attrs:{id:"checkbox-jr-"+i,size:"sm",value:"all","unchecked-value":"manuel"},on:{change:function(t){return e.SelectAllDate(t,i,s.jours_select)}},model:{value:s.jourmode,callback:function(t){e.$set(s,"jourmode",t)},expression:"filter.jourmode"}},[e._v(" Tous les jours ")])],1),t("b-form-group",{attrs:{label:"Jours"},scopedSlots:e._u([{key:"default",fn:function({ariaDescribedby:r}){return[t("b-form-checkbox-group",{attrs:{id:"checkbox-jour-group-"+i,options:e.joursActiveOptions,"aria-describedby":r,size:"sm"},on:{change:function(t){return e.SelectOneDate(i)}},model:{value:s.jours_select,callback:function(t){e.$set(s,"jours_select",t)},expression:"filter.jours_select"}})]}}],null,!0)})],1),t("hr")],1):e._e(),"days"===s.type_disabled?t("h3",{staticClass:"border-bottom pb-2 mb-2 mt-4"},[e._v(" Desactivation des jours ")]):e._e(),""!==s.type_disabled?t("div",[t("b-form-group",{scopedSlots:e._u([{key:"label",fn:function(){return[t("div",{staticClass:"d-flex justify-content-between aligns-items-center mt-3"},[t("strong",[e._v(" Selectionner les dates ")]),t("div",{staticClass:"ctn-action-button"},[t("b-button",{attrs:{variant:"outline-info",size:"sm"},on:{click:function(t){return e.FilterAddDatedisabled(s.date_desactivee)}}},[e._v(" Ajouter une date + ")])],1)])]},proxy:!0}],null,!0)},[t("div",[t("b-row",e._l(s.date_desactivee,(function(r,o){return t("b-col",{key:o,staticClass:"d-flex align-items-center",attrs:{sm:"4"}},[t("b-input-group",{staticClass:"mb-2",attrs:{size:"sm"}},[t("b-form-datepicker",{attrs:{id:"datepicker-"+i+"-"+o,min:e.min_date,locale:"fr"},model:{value:r.date,callback:function(t){e.$set(r,"date",t)},expression:"date.date"}}),t("b-input-group-append",[t("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(t){return e.FilterRemoveDateDesactivee(o,s.date_desactivee)}}},[t("b-icon",{attrs:{icon:"trash-fill"}})],1)],1)],1)],1)})),1)],1)]),t("hr"),t("b-form-group",{scopedSlots:e._u([{key:"label",fn:function(){return[t("div",{staticClass:"d-flex justify-content-between aligns-items-center mt-3"},[t("strong",[e._v(" Selectionner les periodes ")]),t("div",{staticClass:"ctn-action-button"},[t("b-button",{attrs:{variant:"outline-info",size:"sm"},on:{click:function(t){return e.FilterAddPeriodedisabled(s.periode_desactivee)}}},[e._v(" Ajouter une periode + ")])],1)])]},proxy:!0}],null,!0)},[t("div",[t("b-row",e._l(s.periode_desactivee,(function(r,o){return t("b-col",{key:o,attrs:{sm:"6"}},[t("b-input-group",{staticClass:"mb-2",attrs:{size:"sm"}},[t("b-form-datepicker",{attrs:{id:"datedebut-"+i+"-"+o,placeholder:"Date de debut",min:e.min_date},model:{value:r.debut,callback:function(t){e.$set(r,"debut",t)},expression:"date.debut"}}),t("b-form-datepicker",{attrs:{id:"datefin-"+i+"-"+o,placeholder:"Date de fin",min:e.FilterMinDateFin(r.debut)},model:{value:r.fin,callback:function(t){e.$set(r,"fin",t)},expression:"date.fin"}}),t("b-input-group-append",[t("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(t){return e.FilterRemovePeriodeDesactivee(o,s.periode_desactivee)}}},[t("b-icon",{attrs:{icon:"trash-fill"}})],1)],1)],1)],1)})),1)],1)]),t("hr"),t("b-form-group",{scopedSlots:e._u([{key:"label",fn:function(){return[t("div",{staticClass:"d-flex justify-content-between aligns-items-center mt-3"},[t("strong",[e._v(" Gerer les zones ")]),t("div",{staticClass:"ctn-action-button"},[t("b-button",{attrs:{variant:"outline-info",size:"sm"},on:{click:function(t){return e.FilterAddZone(s.pobox)}}},[e._v(" Ajouter une zone + ")])],1)])]},proxy:!0}],null,!0)},[t("div",{staticClass:"row"},e._l(s.pobox,(function(s,i){return t("div",{key:i,staticClass:"col-md-6"},[t("div",{staticClass:"bg-light px-3 mb-2"},[t("div",{staticClass:"row"},[t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Nom de la zone"}},[t("b-form-input",{attrs:{trim:"",required:""},model:{value:s.text,callback:function(t){e.$set(s,"text",t)},expression:"box.text"}})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Code postale"}},[t("b-form-input",{attrs:{trim:"",required:""},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"box.value"}})],1)],1)])])})),0)]),t("hr")],1):e._e()],1)],1)],1)],1)})),1)])],1)},r=[],o=(s(7658),s(226)),a={name:"CreneauBase",components:{},props:{joursActive:{type:Array,required:!0}},data(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(t);return{min_date:s,type_disabled_options:[{text:"Desactive les plages d'heures",value:"hours"},{text:"Desactive les jours",value:"days"}]}},computed:{...(0,o.rn)(["creneauFilters"]),joursActiveOptions(){const e=[];return this.joursActive.forEach((t=>{e.push({text:t.text,value:t.indice})})),e}},methods:{FilterAddDatedisabled(e){e.push({date:""})},FilterAddPeriodedisabled(e){e.push({debut:"",fin:""})},FilterAddSelectJour(){},SelectAllDate(e,t){this.creneauFilters[t]&&(this.creneauFilters[t].jours_select=[],"all"===e&&this.joursActive.forEach((e=>{this.creneauFilters[t].jours_select.push(e.indice)})))},SelectOneDate(e){this.creneauFilters[e]&&(this.creneauFilters[e].jours_select.length>=this.joursActive.length?this.creneauFilters[e].jourmode="all":this.creneauFilters[e].jourmode="manuel")},FilterRemoveDateDesactivee(e,t){t[e]&&t.splice(e,1)},FilterRemovePeriodeDesactivee(e,t){t[e]&&t.splice(e,1)},FilterMinDateFin(e){return e||this.min_date},FilterAdd(){this.$store.dispatch("SetFilterAdd")},FilterRemove(e){this.creneauFilters[e]&&this.creneauFilters.splice(e,1)},FilterAddZone(e){e.push({text:"",value:""})}}},n=a,l=s(1001),c=(0,l.Z)(n,i,r,!1,null,"538aad66",null),u=c.exports}}]);
//# sourceMappingURL=creneauxMylittlepressing.umd.min.701.js.map